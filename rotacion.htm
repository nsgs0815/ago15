<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotar</title>
    <h1>Rotar vectores</h1>
    <p>Escriba el vector que quiere Rotar, separe cada elemento con una coma ','</p>
    <script>
        function byId(strId){
            return document.getElementById(strId).value
        }
        
        function strArr2Num(arr,lim){
            arr = arr.split(lim)
            newArr = [];  //arreglo vacio
            arr.forEach((elem)=>{  //convierte los numeros en string a num y los asigna en el vector 'aon'
                newArr.push(Number(elem))
            });
            return newArr;
        }

        function operacionX(v_original,angulo){
            angRad=angulo * Math.PI / 180;
            cosA = Math.cos(angRad);
            senA = Math.sin(angRad);

            let mRot = [
                [1,0,0,0],
                [0,cosA,-senA,0],
                [0,senA,cosA,0],
                [0,0,0,1],
            ];

           
            let xRot = (mRot[0][0] * v_original[0]);
            let yRot = (mRot[1][1] * v_original[1])+(mRot[1][2] * v_original[2]);
            let zRot = (mRot[2][1] * v_original[1])+(mRot[2][2] * v_original[2]);
       
            v_final = [];
            v_final[0]=xRot; v_final[1]=yRot; v_final[2]=zRot;

            return v_final;
        }

        function rotarX() {
            vOriginal = strArr2Num(byId('vo'),',');
            angle = Number(byId('angle'));
            vFinal = operacionX(vOriginal,angle);
            //result.innerHTML = vFinal;
            alert(vFinal);
        }

        function operacionY(v_original,angulo){
            angRad=angulo * Math.PI / 180;
            cosA = Math.cos(angRad);
            senA = Math.sin(angRad);

            let mRot = [
                [cosA,0,senA,0],
                [0,1,0,0],
                [-senA,0,cosA,0],
                [0,0,0,1],
            ];

           
            let xRot = (mRot[0][0] * v_original[0])+(mRot[0][2]*v_original[2]);
            let yRot = (mRot[1][1] * v_original[1]);
            let zRot = (mRot[2][0] * v_original[0])+(mRot[2][2] * v_original[2]);
       
            v_final = [];
            v_final[0]=xRot; v_final[1]=yRot; v_final[2]=zRot;

            return v_final;
        }

        function rotarY() {
            vOriginal = strArr2Num(byId('vo'),',');
            angle = Number(byId('angle'));
            vFinal = operacionY(vOriginal,angle);
            //result.innerHTML = vFinal;
            alert(vFinal);
        }
        function operacionZ(v_original,angulo){
            angRad=angulo * Math.PI / 180;
            cosA = Math.cos(angRad);
            senA = Math.sin(angRad);

            let mRot = [
                [cosA,-senA,0,0],
                [senA,cosA,0,0],
                [0,0,1,0],
                [0,0,0,1],
            ];

           
            let xRot = (mRot[0][0] * v_original[0])+(mRot[0][1] * v_original[1]);
            let yRot = (mRot[1][0] * v_original[0])+(mRot[1][1] * v_original[1]);
            let zRot = (mRot[2][2] * v_original[2]);
       
            v_final = [];
            v_final[0]=xRot; v_final[1]=yRot; v_final[2]=zRot;

            return v_final;
        }

        function rotarZ() {
            vOriginal = strArr2Num(byId('vo'),',');
            angle = Number(byId('angle'));
            vFinal = operacionZ(vOriginal,angle);
            //result.innerHTML = vFinal;
            alert(vFinal);
        }

        
    </script>
</head>
<body>
    <p>Vector original 
        <input size = 12 id="vo"/><!--vector orginal-->
    </p>
    <br/>

    <p>Escriba el angulo de rotación y seleccione sobre cuál eje desea rotar el vector
        <br/>
        <br/>
        Angulo
        <input size = 12 id="angle"/><!--angulo-->
        <br/>
        <br/>

        <button id = 'rotarX' onclick="rotarX()">Rotar en eje X</button> 
        <button id = 'rotarY' onclick="rotarY()">Rotar en eje Y</button> 
        <button id = 'rotarZ' onclick="rotarZ()">Rotar en eje Z</button>
    </p>
    
</body>
</html>