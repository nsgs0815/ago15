<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traslacion</title>
    <h1>Translacion de vectores</h1>
    <p>Escriba el vector que quiere trasladar, separe cada elemento con una coma ','</p>
    <script>
        function byId(strId){
            return document.getElementById(strId).value
        }
        
        function strArr2Num(arr,lim){
            arr = arr.split(lim)
            newArr = [];  //arreglo vacio
            arr.forEach((elem)=>{  //convierte los numeros en string a num y los asigna en el vector 'aon'
                newArr.push(Number(elem))
            });
            return newArr;
        }

        function operacion(v_original,v_tras){
            tx = v_tras[0]; ty = v_tras[1]; tz = v_tras[2];

            let mTras = [
                [1,0,0,tx],
                [0,1,0,ty],
                [0,0,1,tz],
                [0,0,0,1],
            ];

            for(let i=0;i<mTras.length;i++){
                for(let j=0;j<mTras.length;j++){
                    if(i==0 && j==0){
                        let xTras = (mTras[i][j] * v_original[j]) + (mTras[i][mTras.length-1]*v_original[mTras.length-1]);
                    }else if(i==1 && j==1){
                        let yTras = (mTras[i][j] * v_original[j]) + (mTras[i][mTras.length-1]*v_original[mTras.length-1]);
                    }else if(i==2 && j==2){
                        let zTras = (mTras[i][j] * v_original[j]) + (mTras[i][mTras.length-1]*v_original[mTras.length-1])
                    }
                }
            }

            v_final = [];
            v_final[0]=xTras; v_final[1]=yTras; v_final[2]=zTras;

            return v_final;
        }

        function traslacion() {
            vOriginal = strArr2Num(byId('vo'),',');
            vTraslacion = strArr2Num(byId('vt'),',');
            vFinal = operacion(vOriginal,vTraslacion);
            //result.innerHTML = vFinal;

            alert(vFinal);
        }

        
    </script>
</head>
<body>
    <p>Vector original 
        <input size = 12 id="vo"/><!--vector orginal-->
    </p>
    <br/>

    <p>Escriba el vector de traslación, separe cada elemento con una coma ','
        <br/>
        <br/>
        Vector de traslación
        <input size = 12 id="vt"/><!--vector traslacion-->
        <button id = 'traslacion' onclick="traslacion()">Trasladar</button>
    </p>
       
    <p>Vector trasladado 
        <output id="result" for=""></output>
    </p>
</body>
</html>